<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CafÃ© Rush â€” Bar Mode</title>
  <meta name="description" content="High-speed barista practice: read the ticket, build drinks fast, and serve before time runs out." />
  <link rel="stylesheet" href="../../shared/shell/shell.css" />
  <link rel="stylesheet" href="./styles.css" />
  <script defer src="./app.js"></script>
</head>
<body>
  <main id="app-root" class="app-frame cafe-rush">
    <div class="main-layout">
      <aside class="menu-board" aria-label="Drink menu">
        <div class="menu-title">Barista Menu</div>

        <section class="menu-section" aria-labelledby="hot-classics">
          <div id="hot-classics" class="menu-header">Hot Classics</div>
          <div class="recipe-row"><span class="recipe-name">Espresso</span><span class="recipe-formula">Cup + Esp</span></div>
          <div class="recipe-row"><span class="recipe-name">Americano</span><span class="recipe-formula">Cup + Esp + Wtr</span></div>
          <div class="recipe-row"><span class="recipe-name">Latte</span><span class="recipe-formula">Cup + Esp + Milk</span></div>
          <div class="recipe-row"><span class="recipe-name">Oat Latte</span><span class="recipe-formula">Cup + Esp + Oat</span></div>
        </section>

        <section class="menu-section" aria-labelledby="syrups">
          <div id="syrups" class="menu-header">Syrups</div>
          <div class="recipe-row"><span class="recipe-name">Vanilla...</span><span class="recipe-formula">...add Vanilla</span></div>
          <div class="recipe-row"><span class="recipe-name">Mocha</span><span class="recipe-formula">...add Choc</span></div>
        </section>

        <section class="menu-section" aria-labelledby="iced-bar">
          <div id="iced-bar" class="menu-header">Iced Bar</div>
          <div class="recipe-row"><span class="recipe-name">Iced [Type]</span><span class="recipe-formula">Iced Cup + Ice + ...</span></div>
          <div class="recipe-row"><span class="recipe-name">Iced Mocha</span><span class="recipe-formula">Iced Cup + Ice + Esp + Milk + Choc</span></div>
        </section>

        <div class="rule-box">
          <strong>TIP:</strong><br />
          Always start Iced Drinks with an <strong>Iced Cup</strong> and <strong>Ice</strong>.<br />Then add liquid ingredients.
        </div>
      </aside>

      <section class="game-area" id="game-bg">
        <div class="hud-bar">
          <div class="stat-box">
            <span class="stat-label">Time Remaining</span>
            <span class="stat-value" id="timer">60</span>
          </div>
          <div class="stat-box">
            <span class="stat-label">Orders Filled</span>
            <span class="stat-value" id="score">0</span>
          </div>
        </div>

        <div class="rail-container">
          <div class="ticket-rail-metal">
            <div class="ticket" id="ticket-display" aria-live="polite">
              <h3>Order #<span id="order-num">101</span></h3>
              <h1 id="order-text">Waiting...</h1>
            </div>
          </div>
        </div>

        <div class="counter-surface">
          <div class="cup-zone">
            <div class="cup-mat">
              <div id="cup-visual" class="cup" aria-live="polite" aria-label="Drink build">
                <div class="cup-contents" id="cup-contents"></div>
              </div>
            </div>
          </div>

          <div class="station-controls" aria-label="Ingredient controls">
            <button class="btn-machine" type="button" data-ingredient="hot-cup">
              <span aria-hidden="true">â˜•</span>
              <label>Hot Cup</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="iced-cup">
              <span aria-hidden="true">ğŸ¥¤</span>
              <label>Iced Cup</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="espresso">
              <span aria-hidden="true">ğŸŸ¤</span>
              <label>Espresso</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="ice">
              <span aria-hidden="true">ğŸ§Š</span>
              <label>Ice</label>
            </button>

            <button class="btn-machine" type="button" data-ingredient="milk">
              <span aria-hidden="true">ğŸ¥›</span>
              <label>Milk</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="oat">
              <span aria-hidden="true">ğŸŒ¾</span>
              <label>Oat</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="water">
              <span aria-hidden="true">ğŸ’§</span>
              <label>Water</label>
            </button>
            <button class="btn-machine" type="button" data-ingredient="vanilla">
              <span aria-hidden="true">ğŸŸ¡</span>
              <label>Vanilla</label>
            </button>

            <button class="btn-machine" type="button" data-ingredient="cocoa">
              <span aria-hidden="true">ğŸ«</span>
              <label>Choc</label>
            </button>
            <div class="machine-footnote" aria-hidden="true">SPEED BAR v2.1 (NEUTRAL)</div>
            <button class="btn-serve" id="serve-btn" type="button">ğŸ›ï¸ Serve Order</button>
          </div>
        </div>
      </section>
    </div>
  </main>

  <div id="modal-start" class="overlay">
    <div class="modal" role="dialog" aria-labelledby="start-heading" aria-modal="true">
      <h1 id="start-heading" style="color:var(--text); margin-bottom:0;">CAFÃ‰ RUSH</h1>
      <h3 style="color:var(--accent); margin-top:5px;">Bar Mode</h3>
      <p style="color:var(--text-light)">Processing speed training in a high-pressure environment.</p>
      <hr style="border:none; border-top:1px solid #e2e8f0; margin: 20px 0;" />
      <p style="text-align:left; font-size:14px; color:var(--text); line-height:1.6;">
        1. Read the ticket.<br />
        2. Consult the menu on the left.<br />
        3. Tap ingredients to build.<br />
        4. Serve before the timer runs out.
      </p>
      <div class="modal-actions">
        <button class="btn-start" id="start-btn" type="button">Start Shift</button>
      </div>
    </div>
  </div>

  <div id="modal-end" class="overlay hidden">
    <div class="modal" role="dialog" aria-labelledby="end-heading" aria-modal="true">
      <h2 id="end-heading">Shift Complete</h2>
      <div style="font-size:60px; font-weight:900; color:var(--accent);" id="final-score">0</div>
      <p style="color:var(--text-light); font-weight:bold; text-transform:uppercase;">Orders Served</p>

      <div style="background:#f1f5f9; padding:15px; border-radius:4px; margin:20px 0; text-align:left;">
        <div>Speed: <strong style="float:right" id="stat-speed">0s</strong></div>
        <div style="margin-top:5px;">Accuracy: <strong style="float:right" id="stat-acc">100%</strong></div>
      </div>

      <div class="modal-actions">
        <button class="btn-start" id="restart-btn" type="button">New Shift</button>
        <button class="btn-outline" id="download-btn" type="button">Download Report</button>
      </div>
    </div>
  </div>
</body>
</html>
