<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outlook Simulation Task</title>
    <link rel="stylesheet" href="../shared/app-stages.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="app-layout">
        <header class="app-header">
            <div class="badge-inline">üìß Inbox</div>
            <div class="meta">
                <h1>Outlook Simulation</h1>
                <p>Instruction ‚Üí Triage ‚Üí Stats</p>
            </div>
            <div class="badge-inline" id="timer">00:00</div>
        </header>

        <section id="screen-intro" class="stage active">
            <article class="instruction-card card">
                <div class="instruction-icon" aria-hidden="true">üì®</div>
                <h2 class="instruction-title">Clear the inbox</h2>
                <p class="instruction-desc">Process 20 unread emails using the correct action.</p>
                <div class="task-panel">
                    <strong>Actions</strong>
                    <ul>
                        <li>üóëÔ∏è <strong>DELETE:</strong> spam, junk, or irrelevant notices.</li>
                        <li>üìÇ <strong>ARCHIVE:</strong> information to keep. No response required.</li>
                        <li>‚ö° <strong>REPLY / ACTION:</strong> needs a response or task.</li>
                    </ul>
                </div>
                <div class="flex-between">
                    <div class="chip-row">
                        <span class="chip">20 emails</span>
                        <span class="chip">Phishing traps</span>
                        <span class="chip">Timing tracked</span>
                    </div>
                    <button class="btn primary" onclick="startGame()">Start Assessment</button>
                </div>
            </article>
        </section>

        <section id="stage-task" class="stage">
            <div class="card main-container">
                <div class="folder-pane">
                    <div class="folder-item active">Inbox <span id="count-display" style="float:right; font-weight:bold; color:var(--outlook-blue)">20</span></div>
                    <div class="folder-item">Sent Items</div>
                    <div class="folder-item">Drafts</div>
                    <div class="folder-item">Archive</div>
                    <div class="folder-item">Deleted Items</div>
                </div>

                <div class="email-list-pane" id="email-list"></div>

                <div class="reading-pane">
                    <div class="toolbar">
                        <button class="tool-btn btn-delete" onclick="handleAction('delete')">
                            üóëÔ∏è Delete
                        </button>
                        <button class="tool-btn btn-archive" onclick="handleAction('archive')">
                            üìÇ Archive
                        </button>
                        <button class="tool-btn btn-action" onclick="handleAction('action')">
                            ‚ö° Reply / Action
                        </button>
                        <span style="flex:1;"></span>
                        <span style="font-size:12px; color:var(--text-meta);">Assessment Mode</span>
                    </div>

                    <div class="email-content" id="email-view">
                        <div class="message-header">
                            <div class="msg-subject" id="disp-subject"></div>
                            <div class="msg-from" id="disp-from"></div>
                            <div class="msg-to">To: You</div>
                        </div>
                        <div class="msg-body" id="disp-body"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="screen-report" class="stage">
            <article class="summary-card card" style="max-width:800px; max-height: 90vh; overflow-y:auto;">
                <h2 style="margin-top:0;">Assessment Complete</h2>
                <div class="summary-grid" style="margin-bottom:20px;">
                    <div class="summary-tile">
                        <div class="label">Accuracy</div>
                        <div class="value" id="score-accuracy">0%</div>
                    </div>
                    <div class="summary-tile">
                        <div class="label">Time</div>
                        <div class="value" id="score-time">00:00</div>
                    </div>
                    <div class="summary-tile">
                        <div class="label">Avg / Email</div>
                        <div class="value" id="score-speed">0s</div>
                    </div>
                </div>
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Category</th>
                            <th>Your Action</th>
                            <th>Correct Action</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody id="report-body"></tbody>
                </table>
            </article>
        </section>
    </main>

    <script src="app.js"></script>
</body>
</html>
