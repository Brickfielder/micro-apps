<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Management Assessment</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <div id="modal-intro" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <h2>Email Management Assessment</h2>
            </div>
            <div class="modal-body">
                <p><strong>Objective:</strong> Process all 20 inbox items as efficiently as possible while adhering to corporate communication protocols.</p>
                <ul class="instruction-list">
                    <li><strong>Reply</strong> to direct requests, tasks, and scheduling items.</li>
                    <li><strong>Archive</strong> notifications, receipts, and reference material that require no action.</li>
                    <li><strong>Delete</strong> spam, promotional newsletters, and phishing attempts.</li>
                </ul>
                <p class="modal-note">
                    <span>⚠️ <strong>Note:</strong> Be vigilant for security threats (phishing) and internal policy violations.</span>
                </p>
            </div>
            <div class="modal-footer">
                <button class="primary-btn" onclick="startGame()">Begin Assessment</button>
            </div>
        </div>
    </div>

    <div id="modal-report" class="modal-overlay hidden">
        <div class="modal-card report-card">
            <div class="modal-header">
                <h2>Assessment Results</h2>
            </div>
            <div class="modal-body modal-body--flush">
                <div class="score-row">
                    <div>
                        <div class="score-label">ACCURACY</div>
                        <div class="score-value score-primary" id="score-accuracy">0%</div>
                    </div>
                    <div>
                        <div class="score-label">TOTAL TIME</div>
                        <div class="score-value" id="score-time">0:00</div>
                    </div>
                    <div>
                        <div class="score-label">AVG SPEED</div>
                        <div class="score-value" id="score-speed">0s</div>
                    </div>
                </div>
                <div class="report-table-wrap">
                    <table class="report-table">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Action Taken</th>
                                <th>Protocol</th>
                                <th>Result</th>
                            </tr>
                        </thead>
                        <tbody id="report-body"></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="primary-btn" onclick="location.reload()">Restart Module</button>
            </div>
        </div>
    </div>

    <div class="app-header">
        <div class="logo">
            <span>Inbox Simulation</span>
        </div>
        <div class="timer-box" id="timer">00:00</div>
    </div>

    <div class="main-stage">
        <div class="folder-pane">
            <div class="folder-header">
                <span>Inbox</span>
                <span class="count" id="count-display">20</span>
            </div>
            <div id="email-list"></div>
        </div>

        <div class="reading-pane">
            <div class="ribbon-bar" id="ribbon">
                <button class="ribbon-btn btn-reply" onclick="handleAction('action')">
                    <svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.5 3.5v-2l-5 4.5 5 4.5v-2c3.5 0 6 2 6 5.5-1-2.5-3-4.5-6-4.5z" stroke="none" /></svg>
                    Reply
                </button>
                <div class="ribbon-divider"></div>
                <button class="ribbon-btn btn-archive" onclick="handleAction('archive')">
                    <svg width="16" height="16" viewBox="0 0 16 16"><path d="M14 2v2H2V2h12zm-1 3v9H3V5h10zM6 8h4v1H6V8z" fill-rule="evenodd" /></svg>
                    Archive
                </button>
                <button class="ribbon-btn btn-delete" onclick="handleAction('delete')">
                    <svg width="16" height="16" viewBox="0 0 16 16"><path d="M10 2L9 1H7l-1 1H2v1h12V2h-4zM3 14c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V4H3v10z" fill-rule="evenodd" /></svg>
                    Delete
                </button>
            </div>

            <div id="email-display" class="email-scroll-area">
                <div class="message-header">
                    <div class="message-subject" id="disp-subject"></div>
                    <div class="sender-block">
                        <div class="avatar" id="disp-avatar"></div>
                        <div class="sender-details">
                            <strong id="disp-from"></strong>
                            <span id="disp-time"></span>
                        </div>
                    </div>
                </div>
                <div class="message-body" id="disp-body"></div>
            </div>

            <div id="empty-state" class="empty-state hidden">
                <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-2-2H7v-2h10v2zm0-4H7v-2h10v2zm0-4H7V7h10v2z" /></svg>
                <h3>All caught up</h3>
                <p>You have processed all items in your inbox.</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
